<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Write a function that plays a single round of Rock Paper Scissors. 
    The function should take two parameters - the playerSelection and computerSelection - 
    and then return a string that declares the winner of the round like so: "You Lose! Paper beats Rock"
    <script>
        "use strict";
        function computerPlay(){
            let played = Math.floor(Math.random() * 3) + 1;
            return played;
        }
        function playRound(playerSelection, computerSelection=computerPlay()){
            playerSelection = playerSelection.toLowerCase();
            switch (playerSelection) {
                case 'rock':
                    playerSelection = 1
                break;
                case "paper":
                    playerSelection = 2
                break;
                case 'scissors':
                    playerSelection = 3
                break;
            }
            if (playerSelection == 1) {
                if (computerSelection == 2) {
                    console.log("Computer Played Paper. You Lose!")
                    return 2
                }else if(computerSelection == 1) {
                    console.log("Computer Played rock. It's a Draw!");
                    return 3
                } 
                else {
                    console.log("Computer Played Scissors. Congrats! You win this round!");
                    return 1
                }
            } else if (playerSelection == 2){
                if (computerSelection == 3) {
                    console.log("Computer Played Scissors. You Lose!");
                    return 2
                }else if(computerSelection == 2) {
                    console.log("Computer Played Paper. It's a Draw!");
                    return 3
                }  else {
                    console.log("Computer Played Rock. Congrats! You win this round!");
                    return 1
                }
            }else if (playerSelection == 3){
                if (computerSelection == 1) {
                    console.log("Computer Played Rock. You Lose!");
                    return 2
                }else if(computerSelection == 3) {
                    console.log("Computer Played Scissors. It's a Draw!");
                    return 3
                }  else {
                    console.log("Computer Played Paper. Congrats! You win this round!");
                    return 1
                }
            }else{
                console.log("This is not a valid option. Try Again.")
                return 4
            }           
        }

        function game(){
            let player=0;
            let play;
            let computer=0;
            let sw=1;
            let cont=1;
            let result;
            for (let index = 0; index < 5; index++) {
                    do{
                        play = prompt("Choice between 'rock', 'papper', scissors")  
                        console.clear()
                        result = playRound(play);
                    }while(result == 4)
                    
                    console.log(`You've played ${play}`)
                    if (result == 1) {
                        player+=1;
                        cont += 1;
                    }
                    else if(result==2){
                        computer+=1;
                        cont += 1;
                    }else if(result==3){
                        cont += 1;
                    }
                    if (cont==5) {
                        sw==0;
                    } 
                    console.log("partial Result: ");      
                    console.log("Player: "+player);
                    console.log("Computer: "+computer);
            }
            setTimeout(function() {
                console.clear();
                if (player>computer) {
                    console.log("CONGRATULATIONS!!! YOU WIN!")
                }else if(computer>player){
                    console.log("DISAPPOINTING!!! HOW COULD YOU LOSE?")
                }else{
                    console.log("IT'S A DRAW. BORING.")
                }
            }, 5000); // 5s delay
            
        }
        
        game();

    </script>
</body>
</html>
